<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
        PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html" xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xml:lang="en" lang="en">
<body>

<ui:composition template="/template.xhtml">
    <ui:define name="content">
        <f:metadata>
            <f:viewParam name="id" value="#{newRecipe.id}" />
            <f:viewAction action="#{newRecipe.init}" />
        </f:metadata>

        <h:form class="form-inline" prependId="false" enctype="multipart/form-data">
            <div class="jumbotron">
                <div class="container">
                    <div class="form-group form-horizontal">
                        <h1 class="display-3">#{msg['newrecipe.header']}</h1>

                        <hr class="featurette-divider"/>

                        <div>
                            <p>#{msg['newrecipe.name']}</p>
                            <h:inputText id="name" value="#{newRecipe.recipe.name}" validatorMessage="#{msg['newrecipe.add.name.validationMessage']}" class="form-control input-lg">
                                <f:validateRequired/>
                                <f:validateLength minimum="3" maximum="30"/>
                            </h:inputText>
                        </div>

                        <hr class="featurette-divider"/>

                        <div class="">
                            <p>#{msg['newrecipe.shortdescription']}</p>
                            <h:inputTextarea value="#{newRecipe.recipe.shortDescription}" class="form-control "/>
                        </div>

                        <hr class="featurette-divider"/>

                        <div class="">
                            <p>#{msg['newrecipe.ingredients']}</p>
                            <ul class="list-group">
                                <ui:repeat value="#{newRecipe.recipe.foodlist}" var="food">
                                        <li class="list-group-item"><p>#{food.name} #{food.amount}#{food.unit}</p></li>
                                </ui:repeat>
                            </ul>
                            <div class="btn-toolbar">

                                <h:inputText id="foodName" value="#{newRecipe.foodName}" validatorMessage="#{msg['add.name.validationMessage']}" class="form-control input-lg" type="text">
                                </h:inputText>

                                <h:inputText id="foodAmount" value="#{newRecipe.foodAmount}" validatorMessage="#{msg['add.name.validationMessage']}" class="form-control input-lg" type="text">
                                </h:inputText>

                                <h:selectOneMenu value="#{newRecipe.foodUnit}" class="form-control input-lg">
                                    <f:selectItem itemValue="KG" itemLabel="kg" />
                                    <f:selectItem itemValue="G" itemLabel="g" />
                                    <f:selectItem itemValue="L" itemLabel="l" />
                                    <f:selectItem itemValue="ML" itemLabel="ml" />
                                    <f:selectItem itemValue="PIECE" itemLabel="StÃ¼ck" />
                                </h:selectOneMenu>

                                <h:commandButton value="#{msg['newrecipie.recipe.food.button']}" action="#{newRecipe.doAddFood}" id="addFoodButton" styleClass="btn btn-primary btn-lg"/>
                            </div>
                        </div>

                        <hr class="featurette-divider"/>

                        <div class="">
                            <p>#{msg['newrecipe.description']}</p>
                            <h:inputTextarea value="#{newRecipe.recipe.description}" class="form-control "/>
                        </div>

                        <hr class="featurette-divider"/>

                        <div class="">
                            <p>#{msg['newrecipe.picture']}</p>
                            <h:inputFile type="file" id="part" name="part" value="#{newRecipe.part}" />
                        </div>

                        <hr class="featurette-divider"/>

                        <div class="">
                            <h:commandButton value="#{msg['newrecipie.save.button']}" action="#{newRecipe.doSaveRecipe}" id="saveButton" styleClass="btn btn-primary btn-lg"/>
                            <h:message for="name" /> <h:outputText value="#{newRecipe.imageMessage}" />

                        </div>

                    </div>
                </div>
            </div>
        </h:form>
</ui:define>
</ui:composition>

</body>
</html>